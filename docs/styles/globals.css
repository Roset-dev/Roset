@import "tailwindcss";

/* ============================================
   ROSET DESIGN SYSTEM
   Dark-first with clean light mode support
   ============================================ */

:root {
  /* Accent (Signal Blue) */
  --accent: #4DA3FF;
  --accent-hover: #60B0FF;
  --accent-pressed: #2E8CFF;

  /* Dark Mode (Default) */
  --bg: #000000;
  --surface-1: #09090B;
  --surface-2: #121214;
  --surface-3: #18181C;
  --border: #27272A;

  --text: #eaf0ff;
  --text-2: #a9b4d0;
  --text-3: #7381a6;

  /* Functional */
  --success: #2bd576;
  --warning: #ffb020;
  --error: #ff4d4d;
  --info: #4da3ff;

  /* Spacing */
  --xs: 4px;
  --sm: 8px;
  --md: 12px;
  --lg: 16px;
  --xl: 24px;
  --xxl: 32px;
  --xxxl: 48px;

  /* Radius */
  --r-sm: 8px;
  --r-md: 12px;
  --r-lg: 16px;
  --r-xl: 20px;
  --r-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.25);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.35);
  --shadow-focus: 0 0 0 3px rgba(77, 163, 255, 0.35);

  /* Theme colors for Tailwind */
  --background: var(--bg);
  --foreground: var(--text);

  /* Shiki Syntax Highlighting - Dark Mode */
  --shiki-color-text: #e1e4e8;
  --shiki-color-background: #09090B;
  --shiki-token-constant: #79c0ff;
  --shiki-token-string: #a5d6ff;
  --shiki-token-comment: #6e7681;
  --shiki-token-keyword: #ff7b72;
  --shiki-token-parameter: #ffa657;
  --shiki-token-function: #d2a8ff;
  --shiki-token-string-expression: #a5d6ff;
  --shiki-token-punctuation: #8b949e;
  --shiki-token-link: #a5d6ff;
}

/* Light mode overrides - support both data-theme and .light class (Nextra compatibility) */
[data-theme="light"],
.light,
:root.light {
  --bg: #ffffff;
  --surface-1: #f8f9fb;
  --surface-2: #ffffff;
  --surface-3: #f1f3f8;
  --border: #d1d5db;

  --text: #111827;
  --text-2: #374151;
  --text-3: #6b7280;

  --background: var(--bg);
  --foreground: var(--text);

  /* Light mode shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);

  /* Shiki Syntax Highlighting - Light Mode */
  --shiki-color-text: #24292f;
  --shiki-color-background: #f8f9fb;
  --shiki-token-constant: #0550ae;
  --shiki-token-string: #0a3069;
  --shiki-token-comment: #6e7781;
  --shiki-token-keyword: #cf222e;
  --shiki-token-parameter: #953800;
  --shiki-token-function: #8250df;
  --shiki-token-string-expression: #0a3069;
  --shiki-token-punctuation: #24292f;
  --shiki-token-link: #0550ae;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-accent-hover: var(--accent-hover);
  --color-accent-pressed: var(--accent-pressed);
  --color-surface-1: var(--surface-1);
  --color-surface-2: var(--surface-2);
  --color-surface-3: var(--surface-3);
  --color-border: var(--border);
  --color-text: var(--text);
  --color-text-2: var(--text-2);
  --color-text-3: var(--text-3);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);
  --color-info: var(--info);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-jetbrains-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(
    --font-sans,
    Inter,
    ui-sans-serif,
    system-ui,
    -apple-system,
    sans-serif
  );
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus states */
*:focus-visible {
  outline: none;
  box-shadow: var(--shadow-focus);
}

/* Selection */
::selection {
  background: rgba(77, 163, 255, 0.3);
  color: var(--text);
}

.bg-grid {
  background-image: radial-gradient(var(--border) 1px, transparent 1px);
  background-size: 24px 24px;
}

/* Ensure table cells inherit proper text colors */
table td,
table th {
  color: var(--text);
}

table th {
  color: var(--text-2);
}

/* CodeBlock styling for light mode - use a slightly darker background */
[data-theme="light"] pre,
.light pre {
  background: #f1f5f9;
}

[data-theme="light"] .bg-surface-1,
.light .bg-surface-1 {
  background: #f8fafc;
}

/* Explicit table styling to ensure borders appear */
table {
  border-collapse: collapse;
}

table thead {
  border-bottom: 1px solid var(--border);
}

table tbody tr {
  border-bottom: 1px solid var(--border);
}

table tbody tr:last-child {
  border-bottom: none;
}

/* Ensure table wrapper has visible border */
.overflow-x-auto.rounded-xl.border {
  border: 1px solid var(--border) !important;
}

/* ============================================
   NEXTRA SIDEBAR OVERRIDES
   Match Roset "The Field" design system
   ============================================ */

/* Sidebar container */
.nextra-menu-desktop {
  gap: 0.125rem !important;
  padding-top: 1rem !important;
}

/* All sidebar links - base state */
.nextra-menu-desktop a,
.nextra-menu-desktop button {
  color: var(--text-2) !important;
  border-radius: 0.375rem !important;
  padding: 0.375rem 0.75rem !important;
  font-size: 0.875rem !important;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1) !important;
  margin: 0.125rem 0 !important;
  border: 1px solid transparent !important;
}

/* Hover state */
.nextra-menu-desktop a:hover,
.nextra-menu-desktop button:hover {
  background: rgba(77, 163, 255, 0.04) !important;
  color: var(--text) !important;
  border-color: rgba(77, 163, 255, 0.1) !important;
}

/* Active/current page - Minimalist "Field" style */
.nextra-menu-desktop li.active > a:not([class*="items-center"]) {
  background: transparent !important;
  color: var(--text) !important;
  font-weight: 500 !important;
  position: relative !important;
}

/* Vertical accent bar for active item */
.nextra-menu-desktop li.active > a:not([class*="items-center"])::before {
  content: "";
  position: absolute;
  left: -0.5px;
  top: 20%;
  bottom: 20%;
  width: 2px;
  background: var(--accent);
  box-shadow: 0 0 12px var(--accent);
  border-radius: 4px;
  animation: field-pulse 2s infinite ease-in-out;
}

@keyframes field-pulse {
  0%, 100% { opacity: 0.8; transform: scaleY(1); }
  50% { opacity: 1; transform: scaleY(1.05); }
}

/* Folder buttons should NOT get accent background or bar */
.nextra-menu-desktop li.open > button,
.nextra-menu-desktop li.active > button {
  background: transparent !important;
  color: var(--text) !important;
  font-weight: 500 !important;
}

/* Section Headers (Separators) - technical look */
.nextra-menu-desktop .nx-text-xs.nx-font-semibold.nx-uppercase,
.nextra-menu-desktop [class*="uppercase"][class*="font-semibold"] {
  font-family: var(--font-mono) !important;
  letter-spacing: 0.05em !important;
  color: var(--text-3) !important;
  font-size: 10px !important;
  padding: 1.5rem 0.75rem 0.5rem !important;
  opacity: 0.8;
}

/* Nested items container - thinner vector lines */
.nextra-menu-desktop ul ul {
  margin-left: 0.625rem !important;
  padding-left: 0.75rem !important;
  border-left: 0.5px solid var(--border) !important;
  position: relative;
}

/* Folder expand/collapse buttons */
.nextra-menu-desktop button svg {
  color: var(--text-3) !important;
  transition: transform 0.2s ease !important;
}

.nextra-menu-desktop button:hover svg {
  color: var(--text-2) !important;
}

/* Dark mode specific overrides - maintain the void */
.dark .nextra-menu-desktop a:hover,
.dark .nextra-menu-desktop button:hover {
  background: rgba(77, 163, 255, 0.06) !important;
}

/* Scrollbar styling for the sidebar */
.nextra-scrollbar::-webkit-scrollbar {
  width: 4px;
}

.nextra-scrollbar::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 10px;
}

.nextra-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--text-3);
}

/* Clean up Nextra default colors */
.nx-text-gray-500,
.nx-text-neutral-400 {
  color: var(--text-2) !important;
}

.nx-bg-gray-100,
.nx-bg-primary-100,
.dark\:nx-bg-primary-400\/10 {
  background: transparent !important;
}

.nx-text-primary-800,
.dark\:nx-text-primary-600 {
  color: var(--text) !important;
}

/* Sidebar section divider lines */
.nextra-menu-desktop ul::before {
  background: var(--border) !important;
}

/* Hide default Nextra section separators if we have our own */
.nextra-menu-desktop hr {
  border-color: var(--border) !important;
  opacity: 0.3;
  margin: 1rem 0.75rem !important;
}

/* ============================================
   API DOCUMENTATION COMPONENT OVERRIDES
   Ensure Roset UI ApiDocs components render properly in Nextra
   ============================================ */

/* API Endpoint container - force proper borders */
.nextra-content [class*="rounded-xl"][class*="border"][class*="bg-surface-1"] {
  border: 1px solid var(--border) !important;
  background: var(--surface-1) !important;
  overflow: hidden;
}

/* API Endpoint header */
.nextra-content [class*="border-b"][class*="bg-surface-2"] {
  border-bottom: 1px solid var(--border) !important;
  background: var(--surface-2) !important;
}

/* Ensure dividers work inside API components */
.nextra-content .divide-y > * + * {
  border-top: 1px solid var(--border);
}

/* Force pre/code inside API docs to use proper styling */
.nextra-content [class*="bg-surface-2"] pre {
  background: var(--surface-2) !important;
  border-radius: 0.5rem;
  padding: 1rem;
  margin: 0;
}

/* Method badges */
/* GET method badges - use success green */
.nextra-content [class*="bg-emerald-500\\/10"] {
  background: rgba(43, 213, 118, 0.1) !important;
  color: var(--success) !important;
  border-color: rgba(43, 213, 118, 0.2) !important;
}

.nextra-content [class*="bg-blue-500\\/10"] {
  background: rgba(59, 130, 246, 0.1) !important;
  color: #60a5fa !important;
  border-color: rgba(59, 130, 246, 0.2) !important;
}

.nextra-content [class*="bg-red-500\\/10"] {
  background: rgba(239, 68, 68, 0.1) !important;
  color: #f87171 !important;
  border-color: rgba(239, 68, 68, 0.2) !important;
}

.nextra-content [class*="bg-orange-500\\/10"] {
  background: rgba(249, 115, 22, 0.1) !important;
  color: #fb923c !important;
  border-color: rgba(249, 115, 22, 0.2) !important;
}

/* Parameter tables inside API docs */
.nextra-content .px-4.py-4 table {
  width: 100%;
  border-collapse: collapse;
}

.nextra-content .px-4.py-4 table th {
  text-align: left;
  padding-bottom: 0.5rem;
  padding-right: 1rem;
  font-weight: 500;
  color: var(--text-2);
  border-bottom: 1px solid var(--border);
}

.nextra-content .px-4.py-4 table td {
  padding: 0.5rem 1rem 0.5rem 0;
}

/* ============================================
   GLOBAL CODE STYLING
   ============================================ */

/* Inline code (not inside a pre block) */
code:not(pre code) {
  background: var(--surface-2);
  color: var(--accent);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  font-family: var(--font-mono);
  font-size: 0.85em;
  border: 1px solid var(--border);
}

[data-theme="light"] code:not(pre code),
.light code:not(pre code) {
  background: #f1f5f9;
  color: #0366d6;
  border-color: #e2e8f0;
}

/* Pre blocks are handled by CodeBlock.module.css - do not add global pre styles here */
/* ============================================
   CONTENT TYPOGRAPHY & HEADINGS
   Clean, technical, and confident.
   ============================================ */

/* Headings */
.nextra-content h1 {
  font-size: 2.5rem !important;
  font-weight: 700 !important;
  letter-spacing: -0.02em !important;
  margin-bottom: 2rem !important;
  color: var(--text) !important;
  line-height: 1.1 !important;
}

.nextra-content h2 {
  font-size: 1.5rem !important;
  font-weight: 600 !important;
  margin-top: 3rem !important;
  margin-bottom: 1rem !important;
  color: var(--text) !important;
  border-bottom: 1px solid var(--border) !important;
  padding-bottom: 0.5rem !important;
}

.nextra-content h3 {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  margin-top: 2rem !important;
  margin-bottom: 0.75rem !important;
  color: var(--text) !important;
}

/* Paragraphs and lists */
.nextra-content p {
  line-height: 1.625 !important;
  margin-top: 1.25rem !important;
  color: var(--text-2) !important;
}

.nextra-content ul, 
.nextra-content ol {
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
  padding-left: 1.5rem !important;
  color: var(--text-2) !important;
}

.nextra-content li {
  margin-top: 0.5rem !important;
  line-height: 1.6 !important;
}

/* ============================================
   TABLE OF CONTENTS (RIGHT SIDEBAR)
   ============================================ */

.nextra-toc {
  border-left: 1px solid var(--border) !important;
  padding-left: 1rem !important;
}

/* TOC title */
.nextra-toc p {
  font-family: var(--font-mono) !important;
  text-transform: uppercase !important;
  font-size: 11px !important;
  font-weight: 600 !important;
  color: var(--text-3) !important;
  letter-spacing: 0.05em !important;
  margin-bottom: 1rem !important;
}

/* TOC Links */
.nextra-toc a {
  font-size: 13px !important;
  color: var(--text-2) !important;
  transition: all 0.2s ease !important;
  display: block !important;
  padding: 0.25rem 0 !important;
}

.nextra-toc a:hover {
  color: var(--text) !important;
}

/* Active TOC item */
.nextra-toc li a[class*="nx-text-primary-600"],
.nextra-toc li a.active {
  color: var(--accent) !important;
  font-weight: 500 !important;
  position: relative !important;
}

.nextra-toc li a[class*="nx-text-primary-600"]::before,
.nextra-toc li a.active::before {
  content: "";
  position: absolute;
  left: -1.05rem;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 12px;
  background: var(--accent);
  box-shadow: 0 0 8px var(--accent);
  border-radius: 2px;
}

/* ============================================
   BREADCRUMBS
   ============================================ */

.nextra-breadcrumb {
  font-family: var(--font-mono) !important;
  font-size: 11px !important;
  color: var(--text-3) !important;
  margin-bottom: 1.5rem !important;
  opacity: 0.8 !important;
}

.nextra-breadcrumb a {
  color: var(--text-3) !important;
  transition: color 0.2s ease !important;
}

.nextra-breadcrumb a:hover {
  color: var(--text-2) !important;
}

/* Separator */
.nextra-breadcrumb svg {
  width: 10px !important;
  height: 10px !important;
  opacity: 0.4 !important;
}

/* ============================================
   NAVIGATION LINKS (PAGINATION)
   ============================================ */

.nextra-navigation-links {
  border-top: 1px solid var(--border) !important;
  margin-top: 5rem !important;
  padding-top: 2rem !important;
  display: flex !important;
  gap: 1.5rem !important;
}

.nextra-navigation-links a {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 0.5rem !important;
  padding: 1rem 1.5rem !important;
  border: 1px solid var(--border) !important;
  border-radius: 0.75rem !important;
  background: var(--surface-1) !important;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1) !important;
  text-decoration: none !important;
}

.nextra-navigation-links a:hover {
  border-color: rgba(77, 163, 255, 0.3) !important;
  background: rgba(77, 163, 255, 0.04) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
}

.nextra-navigation-links a .nx-text-xs {
  font-family: var(--font-mono) !important;
  color: var(--text-3) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
}

.nextra-navigation-links a .nx-text-lg {
  color: var(--text) !important;
  font-weight: 600 !important;
}

/* Active/Hover Icons in Pagination */
.nextra-navigation-links a svg {
  color: var(--text-3) !important;
  transition: all 0.2s ease !important;
}

.nextra-navigation-links a:hover svg {
  color: var(--accent) !important;
  transform: translateX(4px) !important;
}

.nextra-navigation-links a:first-child:hover svg {
  transform: translateX(-4px) !important;
}

/* ============================================
   ALERTS / CALLOUTS REFINEMENT
   ============================================ */

.nextra-callout {
  border: 1px solid var(--border) !important;
  background: var(--surface-1) !important;
  border-radius: 0.75rem !important;
  padding: 1rem 1.25rem !important;
  margin: 2rem 0 !important;
  display: flex !important;
  gap: 1rem !important;
  align-items: flex-start !important;
  overflow: hidden !important;
  position: relative !important;
}

/* Info Callout */
.nextra-callout[class*="nx-bg-blue-"],
.nextra-callout[class*="bg-blue-"] {
  background: rgba(77, 163, 255, 0.03) !important;
  border-color: rgba(77, 163, 255, 0.2) !important;
}

.nextra-callout[class*="nx-bg-blue-"]::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--accent);
}

/* Warning Callout */
.nextra-callout[class*="nx-bg-yellow-"],
.nextra-callout[class*="bg-orange-"] {
  background: rgba(255, 176, 32, 0.03) !important;
  border-color: rgba(255, 176, 32, 0.2) !important;
}

.nextra-callout[class*="nx-bg-yellow-"]::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--warning);
}

/* Error Callout */
.nextra-callout[class*="nx-bg-red-"],
.nextra-callout[class*="bg-red-"] {
  background: rgba(255, 77, 77, 0.03) !important;
  border-color: rgba(255, 77, 77, 0.2) !important;
}

.nextra-callout[class*="nx-bg-red-"]::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--error);
}
